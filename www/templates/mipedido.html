<ion-view view-title="" >
    <ion-content>
        <span class="padding-left">Mi Pedido</span>
        
        <div class="list list-inset" ng-show="!estadoEncontrado('Facturado') && estadoEncontrado('Novedad') && mostrarNovedad(buscarEstado('Novedad').motivo)">
            <div class="item">
                Tu pedido presenta novedad. <br />Te invitamos a resolverla
            </div>
            <a class="item assertive" ng-click="verAyudaNovedad()" href="#">
                {{ buscarEstado('Novedad').motivo }}
            </a>
        </div>
        
        <div class="list list-inset" ng-show="false" >
            <a class="item item-icon-right assertive" href="#">
                <i class="icon ion-ios-arrow-down" ></i>
                Tu pedido tiene presenta algunos agotados.
            </a>
            <a class="item assertive" href="#" ng-repeat="agotado in agotados()" >
                <h2>{{ agotado.nombre }}</h2>
                <p>{{ agotado.tipoAgotado }}</p>
            </a>
        </div>

        <div class="list list-inset" ng-show="estadoEncontrado('Anulado') && estadoEncontrado('Novedad')">
            <div class="item">
                Tu pedido no será enviado,<br /> puedes ver el detalle a continuación:
            </div>
            <a class="item assertive" ng-click="verAyudaNovedad()" href="#">
                {{ buscarEstado('Novedad').motivo }}
            </a>
        </div>
        
        <div class="list" ng-show="pedido().razonRechazo && hoyEsCorreteo()">
            <div class="item">
                Aún no tenemos información sobre tu pedido <br />. Si lo enviaste hoy por favor verifica mañana. <br />
                Si ya hiciste el envío de tu pedido y aún <br />
                no registra verifica: <br />
                1) Que no se haya quedado en estado <br /> 
                "Guardado" en la página web. <br />
                2) Que lo hayas llevado al buzón en los horarios y fechas establecidas.
            </div>
        </div>
        
        <div class="list" ng-show="pedido().razonRechazo && !hoyEsCorreteo()">
           <a class="item" href="#" >
                Aún no tenemos información sobre tu pedido<br /> de esta campaña, te invitamos <br /> a consultar a partir del {{fechaCorreteo() | date: 'dd' }} de {{fechaCorreteo() | date: 'MMMM' }}.
            </a>
        </div>

        <div class="list pedido">
            
            <div ng-show="!pedido().razonRechazo"> 
            
            <a class="item item-avatar" href="#" ng-show="estadoEncontrado('Recibido')" >
               <img src="img/invoice.jpg">
               <h2 class="balanced">Recibido
               </h2>
               <p >{{ buscarEstado('Recibido').fecha | date: 'dd'}} de {{ buscarEstado('Recibido').fecha | date: 'MMMM'}}</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="!estadoEncontrado('Recibido')" >
               <img src="img/invoice.jpg">
               <h2 class="dark">Recibido
               </h2>
               <p>&nbsp;</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="estadoEncontrado('Anulado')" >
               <img src="img/cancel.png">
               <h2 class="balanced">Anulado
               </h2>
               <p >{{ buscarEstado('Anulado').fecha | date: 'dd'}} de {{ buscarEstado('Anulado').fecha | date: 'MMMM'}}</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>

            
            <a class="item item-avatar" href="#" ng-show="estadoEncontrado('Facturado') && !estadoEncontrado('Anulado')" >
               <img src="img/invoice.jpg">
               <h2 class="balanced">Facturado
               </h2>
               <p>{{ buscarEstado('Facturado').fecha | date: 'dd'}} de {{ buscarEstado('Facturado').fecha | date: 'MMMM'}}</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="!estadoEncontrado('Facturado') && !estadoEncontrado('Anulado')" >
               <img src="img/invoice.jpg">
               <h2 class="dark">Facturado
               </h2>
               <p>&nbsp;</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="estadoEncontrado('En proceso de empaque') && !estadoEncontrado('Anulado')" >
               <img src="img/box.png">
               <h2 class="balanced">En proceso de empaque
               </h2>
               <p>{{ buscarEstado('En proceso de empaque').fecha | date: 'dd'}} de {{ buscarEstado('En proceso de empaque').fecha | date: 'MMMM'}}</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="!estadoEncontrado('En proceso de empaque') && !estadoEncontrado('Anulado')" >
               <img src="img/box.png">
               <h2 class="dark">En proceso de empaque
               </h2>
               <p>&nbsp;</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" >&nbsp;
                </div>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="estadoEncontrado('Entregado al transportador') && !estadoEncontrado('Anulado')" >
               <img src="img/truck.png">
               <h2 class="balanced">Entregado al transportador
               </h2>
               <p>{{ buscarEstado('Entregado al transportador').fecha | date: 'dd'}} de {{ buscarEstado('Entregado al transportador').fecha | date: 'MMMM'}}</p>
            </a>
            
            <a class="item item-avatar" href="#" ng-show="!estadoEncontrado('Entregado al transportador') && !estadoEncontrado('Anulado')" >
               <img src="img/truck.png">
               <h2 class="dark">Entregado al transportador
               </h2>
               <p>&nbsp;</p>
            </a>
            
            </div>

            <!-- 
            <a class="item item-avatar" href="#" ng-repeat="pedido in pedido().historiaEstados" ng-show="pedido.estado != 'Impresión'" >
               <img src="img/invoice.jpg">
               <h2>{{ cambiarNombreEstado(pedido.estado)}}
               </h2>
               <p>{{pedido.fecha | date: 'dd'}} de {{pedido.fecha | date: 'MMMM'}}</p>
                <div style="border-left: solid 1px #ccc; padding-left: 5px;" ng-show="pedido.estado != 'Cargue'">&nbsp;
                </div>
            </a> -->
        </div>

    </ion-content>
</ion-view>